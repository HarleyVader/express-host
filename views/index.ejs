<!DOCTYPE html>
<html>
<head>
    <title><%= folders.folderName %></title>
    <script>
        function incrementViewCount() {
        console.log('incrementViewCount called'); // Add this line
        fetch('/incrementViewCount', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ key: '<%= folders.folderPath %>', source: 'videoPlay' }),
        })
        .then(response => response.json())
          .then(data => console.log(data))
        .catch((error) => {
            console.error('Error:', error);
        });
    }
    </script>
</head>
<body>
<div class="container pt-30 categories-list">
      <div class="row">
        <div class="col col-12">
          <div class="card-columns">
            <% folders.forEach(function(folder) { %>
            <div class="card-primary col-12 col-sm-3 col-lg-3 mr-auto p-2">
              <div class="card-header" id="<%= folder.folderName %>">
                <a
                  title="<%= folder.folderName %>"
                  href="/<%= folder.folderName %>"
                >
                  <h1 class="card-title">
                    <%= folder.folderName %>
                    <i class="fa fa-external-link"></i>
                  </h1>
                </a>
                <% if (folder.subfolders) { %> 
                <% folder.subfolders.forEach(function(subfolder) { %>
                <div class="card-block">
                  <ul>
                    <!--Ranking list -->
                    <li><!--listed item -->
                      <div class="icon">
                        <img
                          class="favicon"
                          alt=""
                          src="favicon.ico"
                          width="15px"
                          height="15px"
                        />
                        <a class="link" href="<%= subfolder.link %>"><%= subfolder.subfolderName %></a>
                        <a title="<%= subfolder.subfolderName %>" rel="noopener nofollow" target="_new" href="<%= subfolder.link %>">
                            <i class="fa fa-external-link"></i>
                        </a>
                      </div>
                      <div id="views"> <!-- Add your Views here -->
                        <%= subfolder.views %> <!-- Fetch views from the database -->
                      </div>
                    </li>
                    <!--listed item END-->
                  </ul>
                  <!--Ranking list END-->
                </div>
                <% }); %> 
                <% } %>
              </div>
            </div>
            <% }); %>
          </div>
        </div>
      </div>
    </div>
    <section class="video">
    <% if (includeFile) { %>
      <% include(includeFile) %>
    <% } %>
    </section>
</body>
</html>
<style>
@import url('https://fonts.googleapis.com/css2?family=Kanit:wght@800&display=swap');

:root
{

  --murrey: #890449ff;
  --tyrian-purple: #580228ff;
  --hollywood-cerise: #F40A95ff;
  --violet-web-color: #E885D3ff;
  --shocking-pink: #FC34B9ff;


  /* violet sissy (darker) */
  --murrey: #8A0341ff;
  --eminence: #6F1E80ff;
  --red-violet: #CB1A9Eff;
  --rose-red: #C00150ff;
  --russian-violet: #4B0E51ff;


  /* neon goth dark but glows */
  --chocolate-cosmos: #370013ff;
  --hollywood-cerise: #DD12ABff;
  --black: #04010Aff;
  --sky-blue: #4FCEE4ff;
  --hollywood-cerise-2: #EC00A2ff;

  --color-1: #55CDFC;
  --color-2: #F7A8B8;
  /* details */
  --radius: 2rem;
  --padding: .1%;
  --margin: .1%;
  --padding-2: .5rem;
  --margin-2: .5rem;
}

html,
body
{
  background-color: rgb(22, 0, 18);
  font-family: 'Kanit', sans-serif;
  letter-spacing: 1.5px;
  color: #e74c3c;
}

p
{
  color: var(--color-2);
  font-size: medium;
}

h1
{
  margin: 1%;
  padding: 1%;
  color: var(--color-1);
  font-family: 'Kanit', sans-serif;
}

h2
{
  color: var(--color-2);
  text-align: center;
  font-family: 'Kanit', sans-serif;
}

h3
{
  color: var(--color-1);
  text-align: center;
  font-family: 'Kanit', sans-serif;
}

ul.no-bullets
{
  list-style-type: none;
  padding: var(--margin);
  margin: var(--padding);
}

li
{
  list-style-type: none;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--margin);
  margin: var(--padding);
  border: 4px;
  border-style: ridge;
  border-radius: var(--radius);
  border-color: rgb(0, 255, 255);
  background-color: var(--chocolate-cosmos);
}

a 
{
  color: var(--hollywood-cerise); /* Replace with your desired color */
}

a:hover 
{
  color: var(--hollywood-cerise-2); /* Replace with your desired color */
}

#views 
{
  margin-right: 2%;
}

.category
{
  font-weight: bold;
  margin-top: 20px;
}

.website
{
  margin-left: 20px;
}

#timer
{
  color: var(--tyrian-purple);
}

#brandy-landing
{
  color: var(--rose-red);
}

.card-columns
{
  border: 5px;
  border-color: var(--hollywood-cerise);
  border-radius: var(--radius);
  margin: var(--margin);
  padding: var(--padding);
}

.card-primary
{
  max-width: 15%;
  border: 5px;
  border-color: var(--hollywood-cerise);
  border-radius: var(--radius);
  border-style: ridge;
  margin: var(--margin);
  padding: var(--padding);
}

.content
{
  max-width: 1080px;
  margin: auto;
  text-align: center;
  font: bold;
}

#neon-goth-bambi-2
{
  margin: 2%;
  padding: 2%;
  border: solid;
  border-width: 2px;
  border-color: rgb(55, 0, 38);
}

.cookie-banner
{
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background: #f1f1f1;
  padding: 10px;
  text-align: center;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
}

.cookie-banner button
{
  background: #4CAF50;
  color: white;
  border: none;
  padding: 10px 20px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
  border-radius: 4px;
}

.decline-btn
{
  background: #e74c3c;
  color: white;
  border: none;
}

.protest-riot-regular
{
  font-family: "Protest Riot", sans-serif;
  font-weight: 400;
  font-style: normal;
}

#viewCount
{
  color: blueviolet;
  font-family: "Protest Riot", sans-serif;
  font-weight: 400;
  font-style: normal;
  margin: 1%;
  padding: 1%;
}

#banner
{
  text-align: center;
}

.left
{
  text-align: left;
  padding-left: 5%;
}

.center
{
  text-align: center;
}

.right
{
  text-align: right;
  padding-right: 5%;
}

.grid-container
{
  display: grid;
  grid-template-columns: auto auto auto;
}
</style>